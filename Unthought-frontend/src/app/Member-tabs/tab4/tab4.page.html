<ion-header >
  <ion-toolbar class="tab-bar">
    <ion-title>
      <div class="heading">Unthought</div>
    </ion-title>
    <ion-icon name="notifications" slot="end" size ="large" class="notifications-icon" [routerLink]="['/user/notifications']"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <ion-grid>
    <ion-row>
      <ion-col>

        <ion-chip *ngIf='this.searchToggle == false' (click)="this.searchToggle = true">
          <ion-icon name="funnel-outline" class="like-save-saerch" ></ion-icon>
          <ion-text class="SEARCH-For"> <h4> SORT BY </h4> </ion-text>
        </ion-chip>
        <ion-row>
          <ion-col offset=10>  
            <ion-chip *ngIf='this.searchToggle == true' (click)="this.searchToggle = false">
              <ion-icon name="close-outline" class="like-save-saerch" size=large ></ion-icon>
            </ion-chip>
          </ion-col>
        </ion-row>
        <div *ngIf='this.searchToggle == true'>
          <ion-row>
            <ion-col offset=4>
              <ion-text class="SEARCH-For"> <h3 class="SEARCH-For">Seacrh For</h3> </ion-text>
            </ion-col> 
          </ion-row>
          <ion-row>
            <ion-col offset=2>
              <ion-chip class="search-chip" (click)="search('date')">
                Date
              </ion-chip>
              <ion-chip class="search-chip" (click)="search('rating')">
                Rating
              </ion-chip><ion-chip class="search-chip" (click)="search('specification')">
                Specification
              </ion-chip>
            </ion-col>
          </ion-row>
        </div>

        <ion-card *ngFor = " let user of this.sortedData; let i = index" class="post-card"  (click)="changePage(user.fields.event_id)">
          <ion-row >
            <ion-col size="8" class="post_header">
              <ion-card-header>
                <ion-card-title>
                  {{ user.fields.event_name }}
                </ion-card-title>
                <ion-card-subtitle>
                  {{ user.fields.categories }}
                </ion-card-subtitle>
              </ion-card-header>
            </ion-col>
            <ion-col size="4" class="post_mode" >
              {{ user.fields.event_mode }}
            </ion-col>
          </ion-row>
          <ion-card-content class="post_content">
            <ion-row class="post_img_row">
              <ion-col>
                <ion-img  [src]='this.sortedData_img[user.pk]' class="post_img" ></ion-img>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>

      </ion-col>
    </ion-row>
  </ion-grid>
  
</ion-content>